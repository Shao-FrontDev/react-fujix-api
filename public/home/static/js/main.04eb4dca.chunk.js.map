{"version":3,"sources":["serivce/localStorage.js","context/AuthReducer.js","context/AuthContext.js","components/sidebar/Sidebar.jsx","serivce/API.js","components/share/Share.jsx","components/post/Post.jsx","components/feed/Feed.jsx","components/online/Online.jsx","components/userbox/Userbox.jsx","components/rightbar/Rightbar.jsx","components/topbar/Topbar.jsx","components/layout/Layout.jsx","pages/home/Home.jsx","pages/profile/Profile.jsx","apiCalls.js","pages/login/Login.jsx","pages/register/Register.jsx","pages/setting/Setting.jsx","pages/portfolio/Portfolio.jsx","hooks/useFetchPosts.js","pages/404/NoFound.js","App.js","index.js"],"names":["Storage","set","key","value","localStorage","setItem","JSON","stringify","get","parse","getItem","remove","removeItem","clear","AuthReducer","state","action","type","startData","user","isFetching","error","successData","payload","updateData","failureData","INITIAL_STATE","isFecthing","AuthContext","createContext","AuthContextProvider","children","useReducer","dispatch","Provider","Sidebar","useContext","className","to","RssFeed","PlayCircleFilled","_id","Group","API","axios","create","baseURL","process","REACT_APP_API_URL","Share","username","desc","useRef","useState","file","setFile","setHide","format","text","replace","submitHandler","e","a","preventDefault","newPost","userId","current","data","FormData","fileName","Date","now","name","append","img","post","window","location","reload","console","log","useEffect","handler","document","addEventListener","keydownHandler","keyCode","ctrlKey","removeEventListener","ShareComponent","src","alt","placeholder","ref","URL","createObjectURL","onSubmit","htmlFor","PermMedia","htmlColor","id","style","display","accept","onChange","target","files","undefined","Post","RF","REACT_APP_PUBLIC_FOLDER","likes","length","like","setLike","isLiked","setIsLiked","visible","setVisible","setUser","currentUser","res","fetchUser","join","onClick","delete","alert","deletePost","put","followUser","unFollowUser","profilePicture","createdAt","MoreVert","nativeEvent","stopImmediatePropagation","dangerouslySetInnerHTML","__html","comment","Feed","posts","setPosts","useLocation","sort","p1","p2","fetchPosts","map","p","Online","Userbox","theme","setTheme","changeTheme","Brightness7","Brightness4","Rightbar","frineds","setFriends","circle","setCircle","fetchUsers","fetchCircle","ProfileRightbar","u","ProfileRightbarOption","city","from","relationship","Topbar","Search","Home","Settings","Layout","home","Profile","useParams","coverPicture","loginCall","userCredential","Login","email","password","history","useHistory","handleClick","push","required","minLength","CircularProgress","primary","passwordAgain","handlerRegister","Setting","handlerSubmit","newUser","updateUser","Basic","fontSize","initialValues","autoComplete","Button","variant","color","Portfolio","url","filter","item","useFetchPosts","NoFound","App","path","exact","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.04eb4dca.chunk.js","sourcesContent":["const Storage = {\n  set(key, value) {\n    localStorage.setItem(key, JSON.stringify(value));\n  },\n  get(key) {\n    return JSON.parse(localStorage.getItem(key));\n  },\n  remove(key) {\n    localStorage.removeItem(key);\n  },\n  clear() {\n    localStorage.clear();\n  },\n};\n\nexport default Storage;\n","import Storage from \"../serivce/localStorage\";\n\nconst AuthReducer = (state, action) => {\n  switch (action.type) {\n    case \"LOGIN_START\":\n      const startData = {\n        user: null,\n        isFetching: true,\n        error: false,\n      };\n      Storage.set(\"authData\", startData);\n      return startData;\n\n    case \"LOGIN_SUCCESS\":\n      const successData = {\n        user: action.payload,\n        isFetching: false,\n        error: false,\n      };\n      Storage.set(\"authData\", successData);\n      return successData;\n\n    case \"UPDATE_USER\": {\n      const updateData = {\n        user: action.payload,\n        isFetching: false,\n        error: false,\n      };\n      Storage.set(\"authData\", updateData);\n      return updateData;\n    }\n\n    case \"LOGIN_FAILURE\":\n      const failureData = {\n        user: null,\n        isFetching: false,\n        error: action.error,\n      };\n      Storage.set(\"authData\", failureData);\n      return failureData;\n\n    default:\n      return state;\n  }\n};\n\nexport default AuthReducer;\n","import { createContext, useReducer } from \"react\";\nimport AuthReducer from \"./AuthReducer\";\nimport Storage from \"../serivce/localStorage\";\n\nconst INITIAL_STATE = Storage.get(\"authData\")\n  ? Storage.get(\"authData\")\n  : {\n      user: null,\n      isFecthing: false,\n      error: false,\n    };\n\nexport const AuthContext = createContext(INITIAL_STATE);\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(\n    AuthReducer,\n    INITIAL_STATE\n  );\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user: state.user,\n        isFetching: state.isFetching,\n        error: state.error,\n        dispatch,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","import { useContext } from \"react\";\nimport \"./sidebar.css\";\nimport {\n  RssFeed,\n  Chat,\n  PlayCircleFilled,\n  Group,\n} from \"@material-ui/icons\";\n\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\n\nexport default function Sidebar() {\n  const { user } = useContext(AuthContext);\n  return (\n    <div className='sidebar'>\n      <h3 className='home'>首页</h3>\n      <div className='sidebarWrapper'>\n        <ul className='sidebarList'>\n          <Link to='/'>\n            <li className='sidebarListItem'>\n              <RssFeed className='sidebarIcon' />\n              <span className='sidebarListItemText'>\n                全部关注\n              </span>\n            </li>\n          </Link>\n\n          <li className='sidebarListItem'>\n            <PlayCircleFilled className='sidebarIcon' />\n            <span className='sidebarListItemText'>\n              特别关注\n            </span>\n          </li>\n          <Link to={`?userId=${user?._id}`}>\n            <li className='sidebarListItem'>\n              <Group className='sidebarIcon' />\n              <span className='sidebarListItemText'>\n                好友圈\n              </span>\n            </li>\n          </Link>\n        </ul>\n      </div>\n    </div>\n  );\n}\n","import axios from \"axios\";\nconst API = () => {\n  return axios.create({\n    baseURL: process.env.REACT_APP_API_URL || \"/api\",\n  });\n};\n\nexport default API;\n","import React, {\n  useRef,\n  useState,\n  useContext,\n  useEffect,\n} from \"react\";\nimport {\n  PermMedia,\n  Label,\n  EmojiEmotions,\n} from \"@material-ui/icons/\";\n\nimport \"./share.css\";\nimport API from \"../../serivce/API\";\nimport { AuthContext } from \"../../context/AuthContext\";\n\nexport default function Share({ username }) {\n  const desc = useRef(\"\");\n  const [file, setFile] = useState(null);\n  const { user } = useContext(AuthContext);\n  const [hide, setHide] = useState(true);\n\n  const changeVisible = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    setHide(!hide);\n  };\n\n  const format = (text) => {\n    var replaceRegex = /(\\n\\r|\\r\\n|\\r|\\n)/g;\n\n    text = text || \"\";\n\n    return text.replace(replaceRegex, \"<br/>\");\n  };\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n\n    const newPost = {\n      userId: user._id,\n      desc: format(desc.current.value),\n    };\n\n    if (file) {\n      const data = new FormData();\n      const fileName = Date.now() + file.name;\n      // 这边append 的顺序不对会导致服务器端娶不到 req.body\n      data.append(\"fileName\", fileName);\n      data.append(\"file\", file);\n      newPost.img = fileName;\n      try {\n        await API().post(\"/upload\", data);\n      } catch (error) {}\n    }\n\n    try {\n      await API().post(\"/posts\", newPost);\n      window.location.reload();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    const handler = () => {\n      setHide(true);\n    };\n    document.addEventListener(\"click\", handler);\n\n    const submitHandler = async () => {\n      const newPost = {\n        userId: user._id,\n        desc: format(desc.current.value),\n      };\n\n      if (file) {\n        const data = new FormData();\n        const fileName = Date.now() + file.name;\n        // 这边append 的顺序不对会导致服务器端娶不到 req.body\n        data.append(\"fileName\", fileName);\n        data.append(\"file\", file);\n        newPost.img = fileName;\n        try {\n          await API().post(\"/upload\", data);\n        } catch (error) {}\n      }\n\n      try {\n        await API().post(\"/posts\", newPost);\n        window.location.reload();\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    const keydownHandler = (e) => {\n      if (e.keyCode === 13 && e.ctrlKey) {\n        submitHandler();\n      }\n    };\n\n    document.addEventListener(\"keydown\", keydownHandler);\n\n    return () => {\n      document.removeEventListener(\n        \"keydown\",\n        keydownHandler\n      );\n      document.removeEventListener(\"click\", handler);\n    };\n  }, [file, user]);\n\n  const ShareComponent = () => (\n    <div className='share'>\n      <div className='shareWrapper'>\n        <div className='shareTop'>\n          <img src='' alt='' />\n          <textarea\n            type='text'\n            placeholder='有什么有趣的事情分享给大家?'\n            className='shareInput'\n            ref={desc}\n          />\n        </div>\n        <hr className='shareHr' />\n        {file && (\n          <div className='shareImageContainer'>\n            <img\n              alt=''\n              className='shareImg'\n              src={URL.createObjectURL(file)}\n            ></img>\n          </div>\n        )}\n        <form\n          className='shareBottom'\n          onSubmit={submitHandler}\n        >\n          <div className='shareOptions'>\n            <div className='shareOption'>\n              <label\n                htmlFor='file'\n                className='shareOptionText'\n              >\n                <PermMedia\n                  htmlColor='tomato'\n                  className='shareIcon'\n                />\n\n                <input\n                  type='file'\n                  id='file'\n                  style={{ display: \"none\" }}\n                  accept='.png,.jpeg,.jpg'\n                  onChange={(e) =>\n                    setFile(e.target.files[0])\n                  }\n                />\n              </label>\n            </div>\n          </div>\n          <button className='shareButton' type='submit'>\n            发送\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n\n  // 条件渲染Share 组件\n  if (username === undefined) {\n    return <ShareComponent />;\n  } else if (username === user?.username) {\n    return <ShareComponent />;\n  } else {\n    return null;\n  }\n}\n","import { MoreVert } from \"@material-ui/icons\";\nimport React, { useEffect, useContext } from \"react\";\nimport { useState } from \"react\";\nimport API from \"../../serivce/API\";\nimport { Link } from \"react-router-dom\";\nimport { format } from \"timeago.js\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport \"./post.css\";\nexport default function Post({ post }) {\n  const RF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [like, setLike] = useState(post.likes.length);\n  const [isLiked, setIsLiked] = useState(false);\n  const [visible, setVisible] = useState(false);\n\n  const [user, setUser] = useState({});\n\n  const { user: currentUser } = useContext(AuthContext);\n\n  useEffect(() => {\n    const handler = () => {\n      setVisible(false);\n    };\n    document.addEventListener(\"click\", handler);\n    const fetchUser = async () => {\n      const res = await API().get(\n        `/users/?userId=${post.userId}`\n      );\n      setUser(res.data);\n    };\n    fetchUser();\n    return () => {\n      document.removeEventListener(\"click\", handler);\n    };\n  }, [post.userId, setVisible, visible]);\n\n  const likeHandler = () => {\n    setLike(isLiked ? like - 1 : like + 1);\n    setIsLiked(!isLiked);\n  };\n\n  const handlerClick = (e) => {\n    e.nativeEvent.stopImmediatePropagation();\n    setVisible(!visible);\n  };\n  const handlerDelete = () => {\n    const deletePost = async () => {\n      if (post.userId === currentUser._id) {\n        await API().delete(\"posts/\" + post._id, {\n          data: {\n            userId: currentUser._id,\n          },\n        });\n      } else {\n        alert(\"你不能删除别人的博客\");\n      }\n    };\n    deletePost();\n    window.location.reload();\n  };\n\n  const handlerFollow = () => {\n    const followUser = async () => {\n      if (currentUser?._id !== post.userId) {\n        await API().put(`users/${post.userId}/follow`, {\n          userId: currentUser?._id,\n        });\n        alert(\"关注成功\");\n      } else {\n        alert(\"你不能关注自己\");\n      }\n    };\n    followUser();\n  };\n\n  const handlerUnfolllow = () => {\n    const unFollowUser = async () => {\n      if (currentUser._id !== post.userId) {\n        await API().put(`users/${post.userId}/unfollow`, {\n          userId: currentUser._id,\n        });\n        alert(\"取消关注成功\");\n        window.location.reload();\n      } else {\n        alert(\"你不能取消关注自己\");\n      }\n    };\n    unFollowUser();\n  };\n  return (\n    <div className='post'>\n      <div\n        className={[\n          \"postPop\",\n          visible ? \"postPopShow\" : \"\",\n        ].join(\" \")}\n      >\n        <div className='selected'>\n          <div\n            onClick={handlerDelete}\n            className='selected__item'\n          >\n            删除\n          </div>\n          <div\n            className='selected__item'\n            onClick={handlerFollow}\n          >\n            关注\n          </div>\n          <div className='selected__item'>特别关注</div>\n          <div\n            className='selected__item'\n            onClick={handlerUnfolllow}\n          >\n            取消关注\n          </div>\n        </div>\n      </div>\n\n      <div className='postWrapper'>\n        <div className='postTop'>\n          <div className='postTopLeft'>\n            <Link to={`/profile/${user.username}`}>\n              <img\n                className='postProfileImg'\n                src={\n                  RF + user.profilePicture ||\n                  RF + \"person/noAvatar.png\"\n                }\n                alt=''\n              />\n            </Link>\n            <span className='postUsername'>\n              {user.username}\n            </span>\n            <span className='postDate'>\n              {format(post.createdAt, \"zh_CN\")}\n            </span>\n          </div>\n\n          <div className='postTopRight'>\n            <MoreVert onClick={handlerClick} />\n          </div>\n        </div>\n        <div className='postCenter'>\n          <span\n            className='postText'\n            dangerouslySetInnerHTML={{ __html: post.desc }}\n          ></span>\n          <img\n            src={RF + post.img}\n            alt=''\n            className='postImg'\n          />\n        </div>\n        <div className='postBottom'>\n          <div className='postBottomLeft'>\n            <img\n              src='/assets/like.png'\n              alt=''\n              className='likeIcon'\n              onClick={likeHandler}\n            />\n\n            <span className='postLikeCounter'>{like}</span>\n          </div>\n          <div className='postBottomRight'>\n            <span className='postCommentText'>\n              {post.comment} 评论\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useState, useEffect, useContext } from \"react\";\nimport API from \"../../serivce/API\";\nimport \"./feed.css\";\n\nimport Share from \"../share/Share\";\nimport Post from \"../post/Post\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { useLocation } from \"react-router-dom\";\n\nexport default function Feed({ username }) {\n  const [posts, setPosts] = useState([]);\n\n  const { user } = useContext(AuthContext);\n\n  const search = useLocation();\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      const res = username\n        ? await API().get(\"posts/profile/\" + username)\n        : await API().get(`posts/timeline/${user?._id}`);\n\n      setPosts(\n        res.data.sort((p1, p2) => {\n          return (\n            new Date(p2.createdAt) - new Date(p1.createdAt)\n          );\n        })\n      );\n    };\n    fetchPosts();\n  }, [username, user]);\n\n  return (\n    <div className='center'>\n      <div className='centerWrapper'>\n        <Share username={username} />\n        {posts.map((p) => {\n          return <Post key={p._id} post={p}></Post>;\n        })}\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\n\nimport { Link } from \"react-router-dom\";\nimport \"./online.css\";\nexport default function Online({ user }) {\n  const RF = process.env.REACT_APP_PUBLIC_FOLDER;\n\n  return (\n    <Link to={`/profile/${user.username}`}>\n      <li className='rightbarFriend'>\n        <div className='rightbarProfileImgContainer'>\n          <img\n            src={\n              user.profilePicture\n                ? RF + user.profilePicture\n                : RF + \"person/noAvatar.png\"\n            }\n            alt=''\n            className='rightbarProfileImg'\n          />\n          <span className='rightbarOnline'></span>\n        </div>\n        <span className='rightbarUsername'>\n          {user.username}\n        </span>\n      </li>\n    </Link>\n  );\n}\n","import React, {\r\n  useContext,\r\n  useState,\r\n  useEffect,\r\n} from \"react\";\r\nimport \"./userbox.scss\";\r\nimport {\r\n  Brightness4,\r\n  Brightness7,\r\n} from \"@material-ui/icons\";\r\n\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport API from \"../../serivce/API\";\r\n\r\nexport default function Userbox() {\r\n  const RF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n\r\n  const [theme, setTheme] = useState(false);\r\n  const changeTheme = () => {\r\n    setTheme(!theme);\r\n  };\r\n  const { user: currentUser } = useContext(AuthContext);\r\n\r\n  const [user, setUser] = useState({});\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      const res = await API().get(\r\n        `users/${currentUser._id}`\r\n      );\r\n      setUser(res.data);\r\n    };\r\n    fetchUser();\r\n  }, [currentUser, setUser]);\r\n  return (\r\n    <div className='box'>\r\n      <div className='header'>\r\n        <Link to={user ? `/profile/${user.username}` : \"/\"}>\r\n          <img\r\n            src={\r\n              RF + user.profilePicture ||\r\n              RF + \"person/noAvatar.png\"\r\n            }\r\n            className='userAvatar'\r\n            alt='avatart'\r\n          />\r\n        </Link>\r\n\r\n        <div>{user.username}</div>\r\n        {theme ? (\r\n          <span className='dark' onClick={changeTheme}>\r\n            <Brightness7 />\r\n          </span>\r\n        ) : (\r\n          <span className='light' onClick={changeTheme}>\r\n            <Brightness4 />\r\n          </span>\r\n        )}\r\n      </div>\r\n      <Link to='/portfolio'>我的作品集</Link>\r\n      <Link to='/filter'>我的滤镜</Link>\r\n    </div>\r\n  );\r\n}\r\n","import \"./rightbar.scss\";\nimport { useContext, useState, useEffect } from \"react\";\nimport Online from \"../online/Online\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport API from \"../../serivce/API\";\nimport { Link } from \"react-router-dom\";\nimport Userbox from \"../userbox/Userbox\";\nexport default function Rightbar({ user }) {\n  const RF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [frineds, setFriends] = useState([]);\n  const { user: currentUser } = useContext(AuthContext);\n  const [circle, setCircle] = useState([]);\n\n  useEffect(() => {\n    const fetchUsers = async () => {\n      const res = await API().get(\n        `users/friends/${currentUser?._id}`\n      );\n      setFriends(res.data);\n    };\n    fetchUsers();\n  }, [currentUser]);\n\n  useEffect(() => {\n    const fetchCircle = async () => {\n      const res = await API().get(\n        `users/circle/${user?._id}`\n      );\n      setCircle(res.data);\n    };\n    fetchCircle();\n  }, [user]);\n\n  const ProfileRightbar = () => {\n    return (\n      <>\n        <Userbox />\n        <h4 className='rightbarTitle'>我的关注</h4>\n        <ul className='rightbarFriendList'>\n          {frineds.map((u) => (\n            <Online key={u._id} user={u} />\n          ))}\n        </ul>\n        <h4 className='rightbarTitle'>推荐关注</h4>\n        {/* 暂时是获取整个数据库中的用户 */}\n      </>\n    );\n  };\n\n  const ProfileRightbarOption = () => {\n    return (\n      <>\n        <h4 className='rightbarTitle'>简介</h4>\n        <div className='rightbarInfo'>\n          <div className='rightbarInfoItem'>\n            <span className='rightbarInfoKey'>居住地:</span>\n            <span className='rightbarInfoValue'>\n              {user.city}\n            </span>\n          </div>\n          <div className='rightbarInfoItem'>\n            <span className='rightbarInfoKey'>家乡:</span>\n            <span className='rightbarInfoValue'>\n              {user.from}\n            </span>\n          </div>\n          <div className='rightbarInfoItem'>\n            <span className='rightbarInfoKey'>职业:</span>\n            <span className='rightbarInfoValue'>\n              {user.relationship}\n            </span>\n          </div>\n        </div>\n        <h4 className='rightbarTitle'>好友圈</h4>\n        <div className='rightbarFollowings'>\n          {circle.map((u) => {\n            return (\n              <Link\n                to={`/profile/${u.username}`}\n                key={u._id}\n              >\n                <div className='rightbarFollowing'>\n                  <img\n                    src={\n                      user.profilePicture\n                        ? RF + user.profilePicture\n                        : RF + \"person/noAvatar.png\"\n                    }\n                    alt=''\n                    className='rightbarFollowingImg'\n                  />\n                  <span className='rightbarFollowingName'>\n                    {u.username}\n                  </span>\n                </div>\n              </Link>\n            );\n          })}\n        </div>\n      </>\n    );\n  };\n  return (\n    <div className='rightbar'>\n      <div className='rightbarWrapper'>\n        {user ? (\n          <ProfileRightbarOption />\n        ) : (\n          <ProfileRightbar />\n        )}\n      </div>\n    </div>\n  );\n}\n","import \"./topbar.css\";\nimport {\n  Person,\n  Search,\n  Settings,\n  Home,\n} from \"@material-ui/icons\";\nimport React, {\n  useContext,\n  useEffect,\n  useState,\n} from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport Storage from \"../../serivce/localStorage\";\nimport API from \"../../serivce/API\";\n\nexport default function Topbar() {\n  const RF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const { user: currentUser } = useContext(AuthContext);\n  const [user, setUser] = useState({});\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      const res = await API().get(\n        `users/${currentUser._id}`\n      );\n      setUser(res.data);\n    };\n    fetchUser();\n  }, [currentUser, setUser]);\n\n  const handlerLogout = () => {\n    Storage.clear();\n    window.location.reload();\n  };\n  return (\n    <div className='topbarContainer'>\n      <div className='topbarLeft'>\n        <Link to='/'>\n          <span className='logo'>Fujix</span>\n        </Link>\n      </div>\n      <div className='topbarCenter'>\n        <div className='searchbar'>\n          <Search className='searchIcon' />\n          <input\n            type='text'\n            placeholder='搜索好友或者有趣的事情'\n            className='searchInput'\n          />\n        </div>\n      </div>\n      <div className='topbarRight'>\n        <Link to={user ? `/profile/${user.username}` : \"/\"}>\n          <img\n            src={\n              RF + user.profilePicture ||\n              RF + \"person/noAvatar.png\"\n            }\n            className='userAvatar'\n            alt='avatart'\n          />\n        </Link>\n        <Link to='/'>\n          <span className='home'>\n            <Home />\n          </span>\n        </Link>\n        <Link to='/setting'>\n          <span className='setting'>\n            <Settings />\n          </span>\n        </Link>\n        <span className='logout' onClick={handlerLogout}>\n          登出\n        </span>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\r\nimport Topbar from \"../../components/topbar/Topbar\";\r\n\r\nimport \"./layout.scss\";\r\nexport default function Layout({ children }) {\r\n  return (\r\n    <>\r\n      <Topbar />\r\n      <div className='homeContainer'>{children}</div>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\nimport Sidebar from \"../../components/sidebar/Sidebar\";\nimport Feed from \"../../components/feed/Feed\";\nimport Rightbar from \"../../components/rightbar/Rightbar\";\n\nimport Layout from \"../../components/layout/Layout\";\n\nexport default function Home() {\n  return (\n    <Layout>\n      <Sidebar />\n      <Feed />\n      <Rightbar home={true} />\n    </Layout>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport \"./profile.css\";\nimport Topbar from \"../../components/topbar/Topbar\";\nimport Sidebar from \"../../components/sidebar/Sidebar\";\nimport Feed from \"../../components/feed/Feed\";\nimport Rightbar from \"../../components/rightbar/Rightbar\";\nimport API from \"../../serivce/API\";\n\nimport { useParams } from \"react-router\";\n\nexport default function Profile() {\n  const RF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [user, setUser] = useState({});\n  const { username } = useParams();\n  const [file, setFile] = useState(null);\n\n  useEffect(() => {\n    let fetchUser = async () => {\n      const res = await API().get(\n        `/users?username=${username}`\n      );\n      setUser(res.data);\n    };\n    fetchUser();\n    return () => {\n      fetchUser = null;\n    };\n  }, [username]);\n\n  useEffect(() => {\n    const newAvatar = {};\n  }, [file]);\n  return (\n    <>\n      <Topbar />\n      <div className='profile'>\n        {/* <Sidebar /> */}\n\n        <div className='profileRight'>\n          <div className='profileRightTop'>\n            <div className='profileCover'>\n              <img\n                src={\n                  user.coverPicture ||\n                  RF + \"person/noCover.png\"\n                }\n                alt=''\n                className='profileCoverImg'\n              />\n              <label htmlFor='file'>\n                {file ? (\n                  <img\n                    alt=''\n                    className='profileUserImg'\n                    src={URL.createObjectURL(file)}\n                  />\n                ) : (\n                  <img\n                    src={\n                      RF + user.profilePicture ||\n                      RF + \"person/noAvatar.png\"\n                    }\n                    alt=''\n                    className='profileUserImg'\n                  />\n                )}\n\n                <input\n                  type='file'\n                  id='file'\n                  style={{ display: \"none\" }}\n                  accept='.png,.jpeg,.jpg'\n                  onChange={(e) =>\n                    setFile(e.target.files[0])\n                  }\n                />\n              </label>\n            </div>\n            <div className='profileInfo'>\n              <div className='profileInfoName'>\n                {user.username}\n              </div>\n              <div className='profileInfoDesc'>\n                {user.desc}\n              </div>\n            </div>\n          </div>\n          <div className='profileRightBottom'>\n            <Feed username={username} />\n            <Rightbar user={user} />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import API from \"./serivce/API\";\nexport const loginCall = async (\n  userCredential,\n  dispatch\n) => {\n  dispatch({ type: \"LOGIN_START\" });\n  try {\n    const res = await API().post(\n      \"auth/login\",\n      userCredential\n    );\n    dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data });\n  } catch (error) {\n    dispatch({ type: \"LOGIN_FAILURE\", payload: error });\n  }\n};\n","import React, { useContext, useEffect } from \"react\";\nimport { useRef } from \"react\";\nimport { loginCall } from \"../../apiCalls\";\nimport { AuthContext } from \"../../context/AuthContext\";\n\nimport { useHistory } from \"react-router-dom\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport \"./login.css\";\n\nexport default function Login() {\n  const { isFetching, dispatch } = useContext(AuthContext);\n  const email = useRef();\n  const password = useRef();\n  const history = useHistory();\n\n  const handleClick = (e) => {\n    e?.preventDefault();\n\n    loginCall(\n      {\n        email: email.current.value,\n        password: password.current.value,\n      },\n      dispatch\n    );\n\n    history.push(\"/\");\n  };\n\n  useEffect(() => {\n    const keydownHandler = (e) => {\n      if (e.keyCode === 13) {\n        handleClick();\n      }\n    };\n    document.addEventListener(\"keydown\", keydownHandler);\n    return () => {\n      document.removeEventListener(\n        \"keydown\",\n        keydownHandler\n      );\n    };\n  });\n\n  const handlerCreate = () => {\n    history.push(\"/register\");\n  };\n  return (\n    <div className='login'>\n      <div className='loginWrapper'>\n        <div className='loginLeft'>\n          <h2 className='loginLogo'>Fujix</h2>\n          <span className='loginDesc'>\n            用照片分享你的生活\n          </span>\n        </div>\n        <div className='loginRight'>\n          <form className='loginBox' onSubmit={handleClick}>\n            <input\n              placeholder='邮箱'\n              className='loginInput'\n              type='email'\n              required\n              ref={email}\n            />\n            <input\n              placeholder='请输入密码'\n              className='loginInput'\n              type='password'\n              required\n              minLength='6'\n              ref={password}\n            />\n            <button className='loginButton'>\n              {isFetching ? (\n                <CircularProgress primary='true' />\n              ) : (\n                \"登陆\"\n              )}\n            </button>\n            <span className='loginForgot'>忘记密码？</span>\n            <button\n              className='loginRegisterButton'\n              onClick={handlerCreate}\n            >\n              创建新账号\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./register.css\";\nimport { useRef } from \"react\";\nimport API from \"../../serivce/API\";\nimport { useHistory } from \"react-router\";\nexport default function Login() {\n  const password = useRef();\n  const username = useRef();\n  const passwordAgain = useRef();\n  const email = useRef();\n  const history = useHistory();\n\n  const handlerClick = (e) => {\n    e.preventDefault();\n    if (\n      password.current.value === passwordAgain.current.value\n    ) {\n      const handlerRegister = async () => {\n        try {\n          const res = await API().post(\"auth/register\", {\n            username: username.current.value,\n            password: password.current.value,\n            email: email.current.value,\n          });\n          console.log(res);\n        } catch (error) {\n          console.log(error);\n        }\n      };\n      handlerRegister();\n      history.push(\"/login\");\n    } else {\n      alert(\"两次输入密码不同\");\n    }\n  };\n\n  const handlerLogin = () => {\n    history.push(\"/login\");\n  };\n  return (\n    <div className='login'>\n      <div className='loginWrapper'>\n        <div className='loginLeft'>\n          <h2 className='loginLogo'>Fujix</h2>\n          <span className='loginDesc'>\n            用照片分享你的生活\n          </span>\n        </div>\n        <div className='loginRight'>\n          <form\n            className='loginBox'\n            onSubmit={handlerClick}\n          >\n            <input\n              placeholder='用户名'\n              className='loginInput'\n              ref={username}\n              required\n            />\n            <input\n              placeholder='邮箱'\n              className='loginInput'\n              ref={email}\n              required\n              type='email'\n            />\n            <input\n              placeholder='密码'\n              className='loginInput'\n              ref={password}\n              type='password'\n              minLength='6'\n              required\n            />\n            <input\n              placeholder='再次确认密码'\n              className='loginInput'\n              ref={passwordAgain}\n              type='password'\n              required\n            />\n            <button className='loginButton' type='submit'>\n              注册\n            </button>\n\n            <button\n              className='loginRegisterButton'\n              onClick={handlerLogin}\n            >\n              登陆\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, {\r\n  useContext,\r\n  useState,\r\n  useEffect,\r\n} from \"react\";\r\nimport { Formik, Field, Form } from \"formik\";\r\n\r\nimport Layout from \"../../components/layout/Layout\";\r\nimport \"./setting.scss\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport API from \"../../serivce/API\";\r\nimport Userbox from \"../../components/userbox/Userbox\";\r\nimport { Settings } from \"@material-ui/icons\";\r\nexport default function Setting() {\r\n  const { user: currentUser } = useContext(AuthContext);\r\n  const RF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n  const [file, setFile] = useState(null);\r\n  const [user, setUser] = useState({});\r\n  const { username, city, from, desc } = user;\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      const res = await API().get(\r\n        `users/${currentUser._id}`\r\n      );\r\n      setUser(res.data);\r\n    };\r\n    fetchUser();\r\n  }, [currentUser, setUser]);\r\n  const handlerSubmit = (value) => {\r\n    //更新完了。怎么重新获取用户数据？\r\n\r\n    const newUser = {\r\n      userId: currentUser?._id,\r\n      ...value,\r\n    };\r\n\r\n    const updateUser = async () => {\r\n      try {\r\n        if (file) {\r\n          const data = new FormData();\r\n          const fileName = Date.now() + file.name;\r\n\r\n          data.append(\"fileName\", fileName);\r\n          data.append(\"file\", file);\r\n          newUser.profilePicture = fileName;\r\n          await API().post(\"/upload\", data);\r\n        }\r\n        await API().put(\r\n          `users/${currentUser._id}`,\r\n          newUser\r\n        );\r\n        alert(\"保存成功\");\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    updateUser();\r\n  };\r\n\r\n  const Basic = () => (\r\n    <div className='form'>\r\n      <div className='formWrapper'>\r\n        <h2 className='heading'>\r\n          <Settings fontSize='large'></Settings>\r\n          设置\r\n        </h2>\r\n        <label htmlFor='file'>\r\n          {file ? (\r\n            <img\r\n              alt=''\r\n              className='userImg'\r\n              src={URL.createObjectURL(file)}\r\n            />\r\n          ) : (\r\n            <img\r\n              src={\r\n                RF + user.profilePicture ||\r\n                RF + \"person/noAvatar.png\"\r\n              }\r\n              alt=''\r\n              className='userImg'\r\n            />\r\n          )}\r\n\r\n          <input\r\n            type='file'\r\n            id='file'\r\n            style={{ display: \"none\" }}\r\n            accept='.png,.jpeg,.jpg'\r\n            onChange={(e) => setFile(e.target.files[0])}\r\n          />\r\n        </label>\r\n        <Formik\r\n          initialValues={{ username, city, from, desc }}\r\n          onSubmit={handlerSubmit}\r\n        >\r\n          <Form className='formBasic'>\r\n            <label htmlFor='username'>用户名字</label>\r\n            <Field\r\n              id='username'\r\n              name='username'\r\n              autoComplete='off'\r\n              className='fieldItem'\r\n            />\r\n\r\n            <label htmlFor='desc'>简介</label>\r\n            <Field\r\n              id='desc'\r\n              name='desc'\r\n              autoComplete='off'\r\n              className='fieldItem'\r\n            />\r\n            <label htmlFor='city'>城市</label>\r\n            <Field\r\n              id='city'\r\n              name='city'\r\n              autoComplete='off'\r\n              className='fieldItem'\r\n            />\r\n\r\n            <label htmlFor='from'>家乡</label>\r\n            <Field\r\n              id='from'\r\n              name='from'\r\n              autoComplete='off'\r\n              className='fieldItem'\r\n            />\r\n            <Button\r\n              variant='contained'\r\n              color='primary'\r\n              type='submit'\r\n            >\r\n              保存设置\r\n            </Button>\r\n          </Form>\r\n        </Formik>\r\n      </div>\r\n    </div>\r\n  );\r\n  return (\r\n    <Layout>\r\n      <div className='sidebar'></div>\r\n      <div className='center'>\r\n        <Basic />\r\n      </div>\r\n      <div className='rightbar'>\r\n        <Userbox />\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n","import { useContext } from \"react\";\r\nimport React from \"react\";\r\nimport Layout from \"../../components/layout/Layout\";\r\nimport Rightbar from \"../../components/rightbar/Rightbar\";\r\nimport \"./portfolio.scss\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { useFetchPosts } from \"../../hooks/useFetchPosts\";\r\nexport default function Portfolio() {\r\n  const { user } = useContext(AuthContext);\r\n  const RF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n\r\n  let url = `posts/portfolio/${user?._id}`;\r\n  const posts = useFetchPosts(url);\r\n\r\n  return (\r\n    <Layout>\r\n      <div className='imageWrapper'>\r\n        {posts.map((p) => {\r\n          return (\r\n            <img\r\n              key={p._id}\r\n              src={RF + p.img}\r\n              alt=''\r\n              className='portfolioImg'\r\n            ></img>\r\n          );\r\n        })}\r\n      </div>\r\n      <Rightbar></Rightbar>\r\n    </Layout>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport API from \"../serivce/API\";\r\n\r\nexport const useFetchPosts = (url) => {\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      try {\r\n        const res = await API().get(url);\r\n\r\n        let filter = res.data?.sort((p1, p2) => {\r\n          return (\r\n            new Date(p2.createdAt) - new Date(p1.createdAt)\r\n          );\r\n        });\r\n        setPosts(\r\n          filter.filter((item) => item.img != undefined)\r\n        );\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    fetchPosts();\r\n  }, [url]);\r\n\r\n  return posts;\r\n};\r\n","import React from \"react\";\n\nexport default function NoFound() {\n  return (\n    <div>\n      <h1>404</h1>\n    </div>\n  );\n}\n","import Home from \"./pages/home/Home\";\nimport Profile from \"./pages/profile/Profile\";\nimport Login from \"./pages/login/Login\";\nimport Register from \"./pages/register/Register\";\nimport Setting from \"./pages/setting/Setting\";\nimport Portfolio from \"./pages/portfolio/Portfolio\";\n\nimport NoFound from \"./pages/404/NoFound\";\nimport { useContext } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\n\nimport { AuthContext } from \"./context/AuthContext\";\n\nfunction App() {\n  const { user } = useContext(AuthContext);\n  return (\n    <Router>\n      <Switch>\n        <Route path='/' exact>\n          {user && <Home></Home>}\n          {!user && <Redirect to='/login' />}\n        </Route>\n        <Route path='/login'>\n          {user && <Redirect to='/' />}\n          {!user && <Login></Login>}\n        </Route>\n        <Route path='/portfolio'>\n          {user && <Portfolio></Portfolio>}\n          {!user && <Redirect to='/' />}\n        </Route>\n\n        <Route path='/register'>\n          <Register />\n        </Route>\n        <Route path='/profile/:username'>\n          {user && <Profile></Profile>}\n          {!user && <Redirect to='/login' />}\n        </Route>\n        <Route path='/setting'>\n          {user && <Setting></Setting>}\n          {!user && <Redirect to='/login' />}\n        </Route>\n        <Route path='*'>\n          <NoFound />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { AuthContextProvider } from \"./context/AuthContext\";\nimport \"./styles.css\";\nReactDOM.render(\n  <AuthContextProvider>\n    <App />\n  </AuthContextProvider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}